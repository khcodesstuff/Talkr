<!DOCTYPE html>
<html>
    <head>
        <%- include('head') %>
        <script src="https://cdn.socket.io/3.1.3/socket.io.min.js" integrity="sha384-cPwlPLvBTa3sKAgddT6krw0cJat7egBga3DJepJyrLl4Q9/5WLra3rrnMcyTyOnh" crossorigin="anonymous"></script>
        <script src="/public/javascript/chat.js" type="text/javascript"></script>
    </head>
    <body>
        <script>
            var chat_name = '<%- chat_name %>';   
            var user_name = '<%- user_name %>';
            var user_color = '<%- user_color %>';
        </script>
        
        <div class="chat-content">
            <header>
                <span>Share this room name with someone you want to talk to: <%- chat_name %> </span>
            </header>
        
            <div class="chat-window">
                <div class="chat-msgs-log"></div>
        
                <div class="msg-input-container">
                    <input id="msg-input" type="text" maxlength="500">
                    <button id="send-btn"><span class="material-icons">send</span></button>
                </div>
            </div>
        </div>
        
        <script id="sent-msg-template" type="text/template">
            <div class="chat-msg-sent">
                <div class="msg-bubble msg-bubble-right" style="background-color: <%- user_color %>">
                    <span class="msg"></span>
                </div>
                <div class="user-circle user-circle-right" style="background-color: <%- user_color %>"></div>
            </div>
        </script>
        
        <script id="received-msg-template" type="text/template">
            <div class="chat-msg-received">
                <div class="user-circle user-circle-left"></div>
                <div class="msg-bubble msg-bubble-left">
                    <span class="msg">Rec msg placeholder</span>
                </div>
            </div>
        </script>
        
        <script id="event-msg-template" type="text/template">
            <div class="event-msg">
                <div class="msg-bubble event-msg-bubble">
                    <span class="msg">NAME connected</span>
                </div>
            </div>
        </script>
    </body>
</html>